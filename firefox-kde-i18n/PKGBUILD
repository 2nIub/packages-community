# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=56.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('1757acd94c44ca441ec1734d80ef74ed'
         '158e3f33084b19196e1875d82d71dbf2'
         'aedde2372648ca95419c350553a15997'
         'df88b922b0885c98869df401a5b2cc38'
         '5eb2146fc7cb5f71e456095d64d77999'
         '2754ec021e294098440e58b562f15656'
         '6138c6dd46068110fdc4c0f41472b7ae'
         'a047b491b934be064cc5bc5d5e53fe78'
         '619c3734247a8af833ede5c643c7351a'
         '81f15c79d07620fc52ccb438b8d2647a'
         'ea11e872307acd318f37ee1e6ff6132b'
         'dc9c85f36f468bafa9659f3cae7aa3c4'
         'ed38a94fc143e68d3b8e0ddb303608d6'
         'f425874bd0ea2146e61a66cf9952f665'
         '943a638270d93a957ab7c312b66c93fd'
         'a09b9bc6c48d83de5f75de8bfb3a2a3f'
         '32f9c942d977eac79e8c3dadf2740280'
         '178e73648fa30e62148546b164bd4ca0'
         '0ff83d2951997d63bbda544cacb1584c'
         '11257ecfdb17774085d1a26c45305318'
         '79f01af7530ede42cee1a50b3baba0d0'
         '83116256e950aaeea18784b4bdfce3eb'
         'c114782faeed60ffafb54040a7666afd'
         '8f1536a4fdebe7ceb2ad2ae672795e52'
         'd1427da2060bcc5a20553024649053f0'
         '9d639f2831de5b16877db6c08706992a'
         '128353c74be81f3b0076514234cffe19'
         '955abd98ce15c7dbfd92677eac04b472'
         '14c14c41461f056a48acd77b191a7331'
         '061b596e2e7a679ee9c3324804360a16'
         'c3d465908bc828e386fdf1c47ee33025'
         'fd57438e940c1049d98e52b51581b042'
         '4909dd147a74c6ae71f6865ab6c97d2a'
         '02ffc34be50d08f578b34b84daa321c8'
         '9fb7578fd29f711671b0fe3c2de325c1'
         '2f86ec7808486eb0c6d9935c95aed6b7'
         '33eec240bec3f40695f77834b8949dbe'
         '46f9f5370b650405109268f78d1db640'
         'f02a65e3df6335353e4c00107c35d997'
         'f5b8a52d06db6da69caea32e43920038'
         '8397745899be13de8f5e15de4e7ac6d3'
         '0191bce6c9ebc76bd1c4c7f6bf3ae3df'
         'b258cab85bca5dee18e641e1cddde1b1'
         '5796185a98dd6116848a8a9f4b39d899'
         '0c61040b3be12e7bb391e52445c442cc'
         'e7abb761c4ec0b9babf9a301aced6eca'
         '6d4c7ae29360eb84356ee33c0d06829f'
         'ccdec68d8f7637b9ac157394be6e232b'
         'f8755a337edb7764ba6a37b45114d787'
         'baad11102263db7233fc6760b9d3f1b3'
         '0a73ed62411d7f29b7a3a19ba4c95275'
         '8deb6afd71cbaadf3d111c900507bbaa'
         'e0cad0890a6233e19d4e34979e5ec3e0'
         '255e3cae47bb5276a2906a92287fe859'
         'f5b9f3fb16fcca9c9428c1f10b6afbcf'
         'fa9af3002cd05c5288bf151f74bae387'
         'f69f4fbbe7f2d207740f94916462ec38'
         'a162904a86ce675efd13b1e4e30b4a56'
         '6d243f4da6c2a6a6e131604e066551cd'
         'a51533b4f89df9385ce5e00fb432f9b2'
         'bc1d16208d4824beed180bcbf3d4a991'
         '226d724dd22e61e282760f1f043b75a4'
         'f201579ff7db44e69847be1516fe69d4'
         'd4e2cef964eb870f5080163ce40efadd'
         '7fa12d24d91011103695041204119931'
         'cc58fcbca906762bb89f52a06e4de277'
         'e37588002ae4f3693a21b9747c006807'
         '9cb36723288d1e6981106e43c59efacc'
         '7a8e04780f130d00998e568bb6ef3d7a'
         '45ebdee7b8defb6c06101820bc012920'
         '327ab4a9fe9786235c663a3eee1c46b6'
         'aa24fd22de5ec944140a3d7e615903f0'
         'e108bd8538157ea10daf6fff09a4c5d8'
         'a9a681ab7e473f4d5d17c0aab15df108'
         '3b17883e32853a2743ed72b9a66f75f9'
         'f16ea1c6d16b9cc64559c17744f19ada'
         '048b36ee489ac5c5b6e1b8f264c04ebe'
         'c63c8b8b52488f71d0a1659bedc6589e'
         '76c4d9deb80e875165c704095a7fcd67'
         '336a248ef7ffa9ec681ab940e3ce6b6e'
         'db33b38df4b8b4ea5b7d4887aefccf92'
         'd336aca957b976d4591649e377dd0f8e'
         '58cc643428918c209de0674634790c90'
         'b00f08cb384e5d060b56c52726dea2f6'
         'ed360ddd56f894491779664ce2ca6087')
