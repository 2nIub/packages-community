# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=52.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('dfb6990651713c9adcb620001f94c180'
         '18f0f664f33b1074cf7b454005ff7766'
         'b099ca7ff058d1b8478bd38ac6aaa10c'
         '8c5faa10bff89acf537f32ac0f87bf30'
         'b71e4611fca17b4e0a835979fb301305'
         '11b375df62307992b06b809da0c14a29'
         '7e80e300dea76dca2811d8318ef1f30a'
         'bfe765862b405c69b427da7a0b3102f9'
         'ce5c25fc5b2ec283afb03d08ea778dac'
         'eef702df594b63b93c1f0da97962b71e'
         '7ff98818039a5058f2547ba1d311852a'
         'eb75f42c4b29084246b0e1b8d65c217c'
         'ec7f27ba5f8db917c28ffb7d2b5fad80'
         '597e0ad1d21e881d833f393c72588ec0'
         '73d6cc0bcef64173aeae0ac17f6b1974'
         'daa5e65d10054fc3745077ec49639c0f'
         'e91776b26cb9d4c5eda0beb8f3d0d6a4'
         '359d01370fccc00b54aeb7ff09c09bda'
         '9d69b7a7200606000279fdd14c975164'
         '2ca1b020b17beae08a21404a461824de'
         'ddd97c8786c064f4b24ec13a3c36c0ce'
         'ed42aff071b7a28ad853ac4bc53e398c'
         '7708c977828ecffb22b0e73fdd0ccc42'
         '1e53b352e1b8f0b21e5b86f8fdc872a5'
         'bd8352bae7d4bcd8b55370c65faffb14'
         '89297bb30bd261301d1aae8917766212'
         '8f5efb04751707d4eee3afd21940f490'
         'ebbdc475dae2e3a11a09eb172370453b'
         'd38d884eca8aa8952e43da00e785ecaa'
         '43a4ef8ec24d2e21c982381c7696150e'
         '03281bda6cbc56501cc79230d80fd880'
         'e876059487a7ec71c8fcd1d084bac2e2'
         'f66632d092cc2f9622a41efee11a86bc'
         '0feb7483b70ff4fb24307d157a35a32b'
         '58d0b6332e4354f9bd031891910a8afa'
         '6069745863297cb47f9ce6bf1e2b17c3'
         '05377f6ed2ff40726bf2738ab9dc1433'
         '7801aaf7ccb7c7ab1ce34155aa0e1632'
         'd228b9d3e121906d67ca90408458ca59'
         '73fd04e30ec4e1b6fa186ffee75a01ec'
         '5554e311503ead4f1acbdd87e672f751'
         '72a39930b8e26f90bde0146ae981bad7'
         '3dc2a0906ffc8769eced0b8d5bffa14e'
         'b302122884abe44f4bfeb51c82ce0e20'
         'c22f926658e6197ef4cc50aebd4501b9'
         '6f6985fd68aed8f98c13749a73cc0187'
         'c34c31acf781e706bcff656edb3df99e'
         '327ed39425d1dad880083aaa4ba42819'
         'f830e21a02c6336ed79aa8d2a342aefb'
         '37918af17cfcb7bb46f412900cbe419b'
         'a6d30441e983dae4e1bcd806e44cde93'
         '9f178988eb5c4a1d560213863a0d346a'
         '39425b0c3c6d0ad252bd59fc37b72d6c'
         '6e46eae04db69effaffe2c02222611ce'
         'efd9922f09c0c83b5251e2d4efd07c71'
         '05dde44a88be09b617d23e651c4e1170'
         'd8ef49b49b085e206653b9383bc1cfe4'
         '07cc7d64daf80025e978a09b79a8d2bb'
         'd3eaac91a51baf7ffddd179780064305'
         'd75e853ce84c9330150c51735ad556f8'
         '09406535db112427fa8fbcfeccbecf0e'
         'e787a0cd492b6a5c81e6c861f3b7a286'
         'a649ffa1df38b30d91940fe7726f8e7b'
         '8674a92bdb8e41641340105c538cd0d9'
         '65f94dae0d051a3cc546ccb1dff4728d'
         '4fd50694571e622818fe5f883d3a3000'
         'dd8c8b0ceee8892861bfc95c12caf77e'
         '8ce8e805be0eca59e81a849409133610'
         '48f86ff449496578dd118fb51d1af875'
         '737b003abeb46af8edd932c90d0ad591'
         '2cf29a0bac797e944d9e84bec047c94f'
         'f8f218c519dcd52a59913d409dff2551'
         'e118408fa93c9638619c7d71a21b135b'
         'b833bc4aad84adbf43182d1b76ef9bd2'
         '4f3566da0f8e9b357a1e3c203892c53b'
         '21c4219f63b6cdf9392ebc2fd6e2369a'
         '3070e600731ed71f210c8c21b21f67eb'
         '0f95b797637c91251a2065e99db897ab'
         '5ee443434dedc9b3ebc0f98ba58ca1f7'
         '88b840322e7115733ffa6c3ad23710c6'
         '2bde1b430493328d193970b67a2dd1d9'
         'e64e287b58678f91635487a01af5dbb1'
         'dc01c83ecbec26d4e09d7b04ea1a908d'
         'fd2298c26e5ed65cd56d50c8a782b175'
         '42a1843cac715cd22ce4adbaac92ace6')
