# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=52.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('8526a8db79e2472d4eac42700f7c1e8a'
         '8b3b5be1d1aef336422dd6fe78322d9b'
         '092a03b9b1a25cb303ec5ed8770fb2d5'
         '4817e54b95ea1974d6300d5d0d1040f2'
         'c18650fce37e0ea327fd8c46e93a7361'
         '4e9e94c1b7f793ad636b001bdad12d51'
         '3a3532159ee0431177afdf4483899acc'
         '6d77560f09b5097834f7e3615f9bb99b'
         'c59cf15ee78154f3a5e239ecae45f92b'
         '71c2ff44b91152f78f723791c28e7c3a'
         '4b52030e145ef156a019ac9c4a92b2c1'
         '29d087a8f55c1cd53f2d30aa6c6bb3a6'
         '40c0fc6c50855165586e83575e6cfab5'
         '3a125e0e7e40bc0f0e76989984982e49'
         '90c040bb71c07b564ffe08d1d378373b'
         '64fdd436292cbc36bd804d8b07106b74'
         '648f6a58fbe396ef1ddc33c670a4f5d2'
         'bbc7bf62f9bee0e7a62a13c26943b0f6'
         '80acf86f715d13377ddab67d6fe018a9'
         '60f45491645580b8bff69981eb04ec0f'
         'c5c2feb9901bc573ef9af79801f7f394'
         '145cbb2c00d64201b25cd2828b900418'
         '31ccb62125356b1b35d3f51d2297b3c1'
         'fe9a91ba77c33afda49693ad3de36543'
         '0c23c5e18d1c17f544f85c5dae2d0d8d'
         'f3bbd71dfe4c2222b48761f9085eddac'
         'cc8f370dc634decb8cf63d60f014c1b8'
         '8d2b72c06b322ce075cf8d9f029eb27e'
         '4024d41313b4b9d8869756c5cbdc34ad'
         'f85a149759ca8508eae5b71d22e0c4fa'
         '30c0ae4f131cec18a8dca01b24214c5a'
         '12568ef1f4264c90ce2fdd4c97d4e028'
         '0875f929eebf16b77a2435c4ac5108ef'
         '168deb841bcae76f23f3717155f21a06'
         '539687a996fe82c9f246c8f6a8664886'
         '5973281a05dd03677890794bcaaedc4c'
         'bd9a898600ae4caf3ccd2e85c2eb9ee9'
         'b732d120574493aaac9fb739250cce4b'
         '6554be7e834b45b0f26c2b127aba060b'
         'cee2c22f6ceb3b3b225f99b4b9abd6e0'
         '570d358bc44db07ed2319151c630d3de'
         'a42881d927078a5030d70a9ac918d09d'
         'c8c6d4570cb08916019aeda893c52b4e'
         '42c1d57e60b5bb6e7a3081fdaec1db62'
         '112577875af636a35586080a794b59e7'
         '34a21a7586acb9a58f2d70309068f838'
         'e55f53bf712669bb405185fc6e480b32'
         '077cb93f08e11b86ba912ebfff72151b'
         '5e37889b6b11a81fd822ecba5b76eb85'
         'd0440dce717026ae51748aa9f52fac2a'
         '3b0451ab1b11a16b263c4af33bf8e081'
         '07b224867525b82f80743e531ff4deea'
         '346b2ea534166860dfd8c7f670c3b1ed'
         'b38034877e89e87f75843e43cd21fac9'
         'bc57b800b0e036c9b60bc37f00a6461b'
         '912d37bf990bfd0af4b722b80f1a9d83'
         '38a6c5756ce40d095d6a4da7f29a66c4'
         '5c67c546b38185fc2541ee49daad91b9'
         '15a0a3a3d3545c8851247980d2ae95ed'
         'e88e7cad673d665109f7b36bb1f255e2'
         '8bc1e34a2995f645a31c0bcedf0fa8a7'
         '24c277a8095be07ba5a0547c48541793'
         '9cb6d1555a422fba69276fd3f9a582be'
         'd26c7af466da8369a295055456c5729b'
         '127be13d2fc78317f3682fccaf859247'
         '3cea2705289fae178fe680247516baa9'
         '84ba6e7ae6c79cd68a6bf8050146b3c7'
         '925be934762a213e12da4953c22a9e5a'
         '39a1988b6ba78d1ba21cd0b90032f8af'
         '6e9a976b56bbe30933a3be08b90a8e92'
         'e7d8bf3ccd96c7a0dfd605f75cde15a5'
         '1365654fb759eff7967fa87f185f7a82'
         '044d6e5ed048e9ff9a1011017957975f'
         '867c6ee33ebdeb8c0fff3632cdefe222'
         '4122b806c34d7b06fe71df6abd76f519'
         '7075a59d2d3a144ce4e556435dd07227'
         '00e9bf0aa597e497eb22dfc75f55467c'
         'c8f3b0516d0377700abf322f6b2bf9e3'
         '18902d2e37380b935b3905eb95512124'
         '52d1d838ed0ec3409e5cfeaeb4fde1f6'
         '3010310c1b426b61a53aecbd810b43df'
         '4f608b02df1ea735f7dfae18129ed68c'
         '823c41de483ae59ddf2e17c5e96dc997'
         '7975600069e664bc2370816008f704aa'
         'f86a25e243ca0f9442fdbd64e9309f7e')
