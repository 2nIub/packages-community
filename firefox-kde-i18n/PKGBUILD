# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=52.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('7ecf9f0948d36d2c783051dce7b87d45'
         'c1ebd6cec370b410c7a41508244977b6'
         'e62eeed266bec0cbad8f9be04dc5e094'
         'f85243bcf3169fc82664ec8ea2de54d6'
         '9a6eb61924f7bba7008f269faa9e9495'
         '396c09125885c6402c8897d4ea484058'
         'f7a81c46c0a56a756434d7a9616a206d'
         'ed10ea1fcf47e5554ce0fdc31d5d9b0b'
         '50b371f687ad5711494449bd14150df5'
         '28651945ad3a7f0da878bd6c7ec525ee'
         'c2527955d077127c3e3b4f7ffde75a75'
         '93e35a89b352baa0551239dc6615a62e'
         '8b235134ae28beee99ae23bc3979e004'
         '61833ce9dc8c01e6e521e1c4a994ac09'
         '49056a06424c79bfab970c1b42745c10'
         'e75c993b940aa4742f4ff015fc3460e5'
         '737ab9fe626cc51b3d6ab807e2577f83'
         'a63c2a7334329fc8e044c6c7b54769b6'
         '8ea21744424d99103595abf5f2769137'
         '37972e3a5ad225bad39da515db930d38'
         '78212df325fbb20590864ce35a3d86e7'
         '91040c6d3b8b38dff71620429b031786'
         '4e464d2e039a9a9ff0ee8f044475fb6c'
         'f0d1ee99df47187289de1730503a1264'
         '64c6e776c396b4b24b3a0312ccf8eada'
         '0e8dfccc9c4b6e633c325a5063a37ef9'
         '6905ae4498b785c96fc47891a1084648'
         'f1642f4d4ff59432c1672c2b005be460'
         '98581bf46e353386534ab7fe81767b86'
         '21b1f5b54803a0b31c00f0baafd70343'
         'c4badaba2b7f53a77a5a67bca5e66982'
         'dd54bb40e46282c58a751b04f4e65f62'
         '8ebc0543818a813cf1eda245d0de4f0f'
         'a3e3727dfce72969386daa3ea0a37253'
         'f4c7f40fb831ae251519497abc4d2fe9'
         '109446a2c11552a574091e2d23dfaf29'
         '6d5ab94ec5c8dec331ced119508c93c6'
         '108f2baed150febb1bb33f4a4a25c553'
         '9f8c363be128b9e7f6a308bf395a78b7'
         '00f024263939a8c24d7876565b65d250'
         'f5b9e33c9dd3241591e68aeab29f1c65'
         '8c336ed0b763fd3f157f931124101a8c'
         '6d671538d937590592f7199ae12e19f8'
         '5546ef45228b37580054fb714fa14205'
         '1c8e8d00818c3f15b739e7f4c454879c'
         '0b6860d8a8a7d189a698b663f36c8ca6'
         '0a5dab6d7ce45e98f78b9498d543936a'
         '3c4d978a00f3ef2a20d33c6d2dcdc623'
         '63aa0e65b9d891294608f04d64ad4765'
         '9676735504ee8b280ce287ae1c9f4503'
         'c3161cc0e6907d9b11b252312c713572'
         '83c0b67c0f2909df029329d4b8ddd8d7'
         '12222d902a04c3678c945472ec2f83b5'
         '70d73e7b27d9988b9122aec5bd612667'
         'b47b74709afe225a713a4e150ce85199'
         '89a05894733164573486db5e047d62d4'
         'bf967054565ab16522d2896db2bcaf91'
         '16850baf165bdc8d5793e569d6eebd9b'
         '37a8752efaf4828d1882cfbde7ee125a'
         '05b284e11227c20bbc609d3d43eb9049'
         '0f0434019cf1ea405927ff7e374f048f'
         'be973f97fa0fd516ad744ba3b8bb5053'
         '00ea9a98349adc7a97049b974b25115a'
         '6b7da4db56e612de1b0d3da73545c56d'
         '2b71db2b4e9aa06bedb96c0de83ce2c0'
         '642ea1500ffd5fb187fe7a73a1af68f2'
         'c04e8170f82278f7c07d94ff2263273e'
         '8f91d09ba85cbf1e9f0246f96dda787e'
         '7d69dee6271b2c7389dfb25100699c5d'
         '223eaf61176f897a24b986f8443f8856'
         '1b2558b84d1fbf410003f63f0dda7137'
         '8c9840de0b5f5cd3a47b4d7144a04cb8'
         '7ec396ab0b73c903b67e19f2d908c5c0'
         '852f3f5535d8fad437eddece54efca53'
         'a3673a070a453a7337fd02388784d173'
         '85e4abb25e17135f36b67bf0a8c727a0'
         'ba6079785b08443434611aa1946f74d9'
         '8c90b503751337514bc480c16f8abdd7'
         '39847a30dd85abbe0a9a9b048bf120a9'
         'dbc31138ff4786477dbefef6af9bc1d5'
         '5cc7b7218b43a7621430aa2bef98b9bc'
         '8bcf95c7e5bca72652819f0ab2f8d3ba'
         'ef1df72435bf246cd0ebd9a9e33b17f2'
         'eed64a244b5aeb51d64fb1adc8b35f77'
         'cd9fb9fa86309e11c133c97005ce0b34')
