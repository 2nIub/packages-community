# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=54.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('741212876ebf8550a08db1674cede2e6'
         '6d38081fdc2979ed7ea0899aecf68713'
         '9ab8a4bf07ab510196d6a533c4a3df86'
         'f04e7d7b2598f2f4bbc30d56615bafce'
         '44a2760ee6a9c33c2132afaa62453b9b'
         '65ee0e59894a4bebe8e9f7425fc13ea2'
         'e19911621bd0644349ad22771307b813'
         'af33bfd0fe78d56143a245b7d5c36e6b'
         '708993fbe9450939c2f20ec1c3f08424'
         '8293f1d9f0c1429c9bbb6ff380252695'
         '484b202c4cd25279369acad93bbf61ea'
         'b135d878ecec5d83c1fe298d4317910a'
         'e04aabf85c353fd36ee841a74be9c43b'
         '737c36ae6cabb9cb5dcf8d603ebcbeab'
         '8f98d6d66e2d2b782ff0fa1e2636f0ab'
         '003da9d5ab9f86cbfddacc1c433e3700'
         '5f0f8598b1a7057464978ca99e0e46f6'
         'c3dc79ad2d1b42e25e73415368942bef'
         '7960ff680ca6fd4955a0870f22fecff2'
         '754d581ab03064599f526a3414b9f924'
         'b7dc381aa8e4a264014b385bf1f36517'
         '1bfe5db346c11013f2f3a317c3f2ffe1'
         '988d110e5a08541e886b68d0ccc1b043'
         '1abcb88d7b17bf85c69f4571f73850e9'
         '645bc83b7ddb17f6d400f26a65bc5d0c'
         'a2dd5169d64802a961852279d13348df'
         '193da83800113760a2446279e8f32fcd'
         '44471ce7f930aa8033ebd4a00a677d4f'
         'f09a38315ecba438489669de92d2c08c'
         '42a4ccd6df8e5ef35402eda9ebe9f36c'
         '297bd18028942850f158a8da71bd66fc'
         '70791bfc94ffadb10c530a384faec94c'
         'b53e7866d1c4b997897fa71e98b27cea'
         '08a54ebbdd7ccd18f20cc7988c8d8728'
         '8b6a4c5e67d00728e30c6557d25a2367'
         '34092de26204c112b7bc3ab82f0a36f4'
         '530bc58024bc54f05e95f46a87de9616'
         '991876589a206e1b1d92c50f6504add7'
         '18c060bd5afce308d8cc72ba49b2478d'
         'a5c55fe06286d2bd6d6f9806bdec97dd'
         'e5ffa46c8b5370d721278aa20edf6eab'
         'f206bfddf9ec2f052b9ecf6f6ee3396d'
         '6281f647686f66819827c98e6b55b01e'
         '3283ebd97f6cc53db1f41d4ac9fabe27'
         'd81883a66a6d263cbe7ce3694838aa7a'
         '93c65889855c625aba95e8136489d5bf'
         '5a89c13db20ac1f0bcb6a76e32199828'
         '4feeba354bb067e95ac421237e733eaa'
         '38015f25cef234ff392dcbfb73361ce6'
         '70dbf1d9cff59b4820c63531563855c0'
         'b08acd0efa506acacc9654f05fc97e7e'
         'f99016c8614412e691e9a59aa4d842a0'
         'f8bde48786bc8f9ef73c9957f946872a'
         '894e840e429b57746736509d89c971e7'
         '78a708e6e7b741c82aca01b044287b5e'
         '1297433198ba2a75a7850b37a721d0c5'
         'adde858ffa470816ebb5bf5c45350a3d'
         'c1552f26b976acd61dbcead53cb824f3'
         'a824c5296c5bc0fd64a1fbeea2ed723c'
         '6295242715f73a13537f9bb55cc23819'
         '88bf19a7ad86fc59f1322fc8294f9ddf'
         '6bb913e36cca83d3444449f6d2c65f39'
         'bfab9b2952b833200ddacee62cfb89d6'
         '42f0c31002fe0aed8684066ba78dbbec'
         '10453b081031f322595e1729af3e7a97'
         '5926065e36502a61179f8d1dc961cfd6'
         '97ef23e2cd84a27b6f1c6c70d052ab98'
         'd327f278dabced6682eaff6b7a1c013e'
         '7be850cc92eddc03a9cf0702bb6a2872'
         '9093037f85579a32ea59864eeb399936'
         'a73f6980cf8d001940e3f8453443f1d8'
         '5bb6bbbcd1bfbc8fbad415780925c48c'
         'a0431b0ec7d83c3f8cad3466fc787a43'
         '021da0b0c03ad7a6c77d2e7690c7b35b'
         '8115bce46ecbf6e42cff700f8ff187b7'
         '038766b3d1f496640332833e03d0d951'
         'aa301a767eafde9f541ff0a58ac539c7'
         'a36e6a82393ff5e2efe25e1573dd8dcb'
         '490204ddbc53a58a323b198009fead05'
         '80b842547110aadef6168e5249af38e0'
         '284bc8b5e27d6977c9b9a65abedf688a'
         'ba07e1889a1eea7bad2a6e16eb0ceb79'
         '546f68c00921382a93d05ef94a5c2fbd'
         '18d3903a5203e3c7b3b43b28871d51e0'
         'dacbac7b9403722bd305274e4469073c')
