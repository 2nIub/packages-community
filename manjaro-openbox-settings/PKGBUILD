# Maintainer: Philip MÃ¼ller <philm[at]manjaro[dog]org>
# Contributor: artoo <artoo@manjaro.org>

pkgname=manjaro-openbox-settings
pkgver=20160922
pkgrel=1
pkgdesc='Manjaro Linux openbox settings'
arch=('any')
url="https://github.com/manjaro/desktop-settings"
license=('GPL')
depends=('manjaro-base-skel' 'obmenu-generator' 'tint2' 'feh' 'openbox-themes'
        'vertex-maia-themes' 'andromeda-icon-theme' 'andromeda-wallpaper')
makedepends=('git')
optdepends=('pcmanfm-qt: Lightweight file manager'
            'network-manager-applet: Applet for managing network connections')
conflicts=('manjaro-bspwm-settings' 'manjaro-fluxbox-settings'
            'manjaro-i3-settings' 'manjaro-jwm-settings')
source=("git+$url.git")
sha256sums=('SKIP')

pkgver() {
	date +%Y%m%d
}

_inst_dir(){
    if [[ -d $srcdir/$pkgbase/$1/skel ]]; then
        install -d $pkgdir/etc
        cp -r $srcdir/$pkgbase/$1/skel $pkgdir/etc
    fi

    if [[ -d $srcdir/$pkgbase/$1/scripts ]]; then
        install -d $pkgdir/usr/bin
        cp $srcdir/$pkgbase/$1/scripts/* $pkgdir/usr/bin
    fi

    if [[ -d $srcdir/$pkgbase/$1/schemas ]]; then
        install -d $pkgdir/usr/share/glib-2.0/schemas
        cp $srcdir/$pkgbase/$1/schemas/* $pkgdir/usr/share/glib-2.0/schemas
    fi

    if [[ -d $srcdir/$pkgbase/$1/bashrc.d ]]; then
        install -d $pkgdir/etc/bash/bashrc.d
        cp $srcdir/$pkgbase/$1/bashrc.d/* $pkgdir/etc/bash/bashrc.d
    fi

    if [[ -d $srcdir/$pkgbase/$1/profile.d ]]; then
        install -d $pkgdir/etc/profile.d
        cp $srcdir/$pkgbase/$1/profile.d/* $pkgdir/etc/profile.d
    fi

    if [[ -d $srcdir/$pkgbase/$1/xinitrc.d ]]; then
        install -d $pkgdir/etc/X11/xinit/xinitrc.d
        cp $srcdir/$pkgbase/$1/xinitrc.d/* $pkgdir/etc/X11/xinit/xinitrc.d
    fi
}

package() {
    _inst_dir 'community/openbox'
}
